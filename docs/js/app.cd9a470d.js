(function(t){function e(e){for(var n,s,o=e[0],u=e[1],c=e[2],m=0,f=[];m<o.length;m++)s=o[m],r[s]&&f.push(r[s][0]),r[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var u=i[o];0!==r[u]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={app:0},a=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/HosannaCalculator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("1356"),r=i.n(n);r.a},"03c4":function(t,e,i){},1356:function(t,e,i){},"24a3":function(t,e,i){},"3dda":function(t,e,i){"use strict";var n=i("7bcf"),r=i.n(n);r.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),r=i("bb71");i("da64");n["a"].use(r["a"],{iconfont:"md"});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("HCHeader"),i("HCDefaultInput"),i("HCList"),i("HCInput"),i("HCFooter")],1)},s=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},u=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",[i("h1",[t._v("Hosanna Calculator")])])}],c={},l=c,m=(i("6c10"),i("2877")),f=Object(m["a"])(l,o,u,!1,null,"2e9c4bf6",null);f.options.__file="HCHeader.vue";var d=f.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shadow"},[t._v("\n  금액\n  "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.total,expression:"total"}],staticClass:"inputBox",attrs:{type:"number",placeholder:"금액"},domProps:{value:t.total},on:{input:function(e){e.target.composing||(t.total=e.target.value)}}}),t._v("\n  리미트\n  "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],staticClass:"inputBox",attrs:{type:"number",disabled:0==t.isLimitUsed,placeholder:"리미트"},domProps:{value:t.limit},on:{input:function(e){e.target.composing||(t.limit=e.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.isLimitUsed,expression:"isLimitUsed"}],staticClass:"checkBox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isLimitUsed)?t._i(t.isLimitUsed,null)>-1:t.isLimitUsed},on:{change:function(e){var i=t.isLimitUsed,n=e.target,r=!!n.checked;if(Array.isArray(i)){var a=null,s=t._i(i,a);n.checked?s<0&&(t.isLimitUsed=i.concat([a])):s>-1&&(t.isLimitUsed=i.slice(0,s).concat(i.slice(s+1)))}else t.isLimitUsed=r}}})])},h=[],v={data:function(){return{total:0,limit:1e4,isLimitUsed:!0}},created:function(){this.total=this.$store.getters.getTotal,this.limit=this.$store.getters.getLimit,this.isLimitUsed=this.$store.getters.getLimitUsed},watch:{total:function(){this.$store.commit("changeTotal",this.total)},limit:function(){this.$store.commit("changeLimit",this.limit)},isLimitUsed:function(){this.$store.commit("changeLimitUsed")}}},b=v,g=(i("3dda"),Object(m["a"])(b,p,h,!1,null,"5f4ab876",null));g.options.__file="HCDefaultInput.vue";var _=g.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i",{staticClass:"fas fa-plus addBtn",on:{click:t.addMember}})])},U=[];function y(t,e){this.grade=t,this.count=e}var M={data:function(){return{}},methods:{addMember:function(){var t=new y(0,0);this.$store.commit("addMember",t)}}},C=M,x=(i("e51a"),Object(m["a"])(C,L,U,!1,null,null,null));x.options.__file="HCInput.vue";var $=x.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",t._l(this.$store.state.memberList,function(e,n){return i("li",{key:n,staticClass:"shadow"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.grade,expression:"member.grade",modifiers:{number:!0}}],staticClass:"inputBox",attrs:{type:"number"},domProps:{value:e.grade},on:{input:function(i){i.target.composing||t.$set(e,"grade",t._n(i.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" 학년\n      "),i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.count,expression:"member.count",modifiers:{number:!0}}],staticClass:"inputBox",attrs:{type:"number"},domProps:{value:e.count},on:{input:function(i){i.target.composing||t.$set(e,"count",t._n(i.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" 명\n      "),i("span",{staticClass:"removeBtn",on:{click:function(e){t.removeMember(n)}}},[i("i",{staticClass:"fas fa-trash-alt"})])])}),0)])},O=[],w={data:function(){return{}},created:function(){},methods:{removeMember:function(t){this.$store.commit("removeMember",t)}}},H=w,I=(i("8aa0"),Object(m["a"])(H,E,O,!1,null,null,null));I.options.__file="HCList.vue";var T=I.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{on:{click:function(e){t.calculate()}}},[t._v("계산")])])},P=[],j=(i("c5f6"),i("87f3"),i("ac6a"),i("55dd"),i("9278"),{sort:function(t){t.sort(this.compare)},getNumOfPerson:function(t){var e=0;return t.forEach(function(t){e+=t.count}),e},getMaxGrade:function(t){var e=Number.MIN_SAFE_INTEGER;return t.forEach(function(t){e=Math.max(e,t.grade)}),e},getMinGrade:function(t){var e=Number.MAX_SAFE_INTEGER;return t.forEach(function(t){e=Math.min(e,t.grade)}),e},compare:function(t,e){return t.grade<e.grade?-1:t.grade>e.grade?1:0}}),k={payUnit:1e3,calculateRecur:function(t,e,i){j.sort(t);var n=this.getSubTotal(t,i),r=j.getNumOfPerson(t),a=r*this.payUnit,s=e-n;if(s>0){if(!this.validateLimit(t,s,i))return"OVERFLOW. LIMIT_IS_NOT_VALID";var o=s%a,u=(s-o)/a;if(0!=o&&(o=a-o,u+=1),(u+j.getMaxGrade(t))*this.payUnit<=i)return{plus:u,balance:o};var c=this.reBasePlusMember(t,i,u);return e-=c,this.calculateRecur(t,e,i)}if(0==s)return{plus:0,balance:0};s=Math.abs(s);var l=s%a,m=(s-l)/a;if((j.getMinGrade(t)-m)*this.payUnit>=0)return{plus:-1*m,balance:l};var f=this.reBaseMinusMember(t,m);return e-=f,this.calculateRecur(t,e,i)},getSubTotal:function(t,e){var i=this,n=0;return t.forEach(function(t){t.grade*i.payUnit<=e?n+=t.grade*t.count*i.payUnit:n+=e*t.count}),n},reBasePlusMember:function(t,e,i){var n,r=0,a=0;for(n=t.length-1;n>=0;n--){if((t[n].grade+i)*this.payUnit<e)break;a+=t[n].count}return t.splice(n+1,t.length-(n+1)),r=a*e,r},reBaseMinusMember:function(t,e){var i,n=0;for(i=0;i<t.length;i++){if(t[i].grade-e>=0)break;n+=t[i].grade*t[i].count*this.payUnit}return t.splice(0,i),n},validateLimit:function(t,e,i){var n=this,r=0;return t.forEach(function(t){r+=(i-n.payUnit*t.grade)*t.count}),r>=e}},S={data:function(){return{memberList:[],total:0,limit:0,isLimitUsed:!0}},methods:{fetch:function(){this.memberList=this.$store.getters.getMemberList.slice(0),this.total=this.$store.getters.getTotal,this.limit=this.$store.getters.getLimit,this.isLimitUsed=this.$store.getters.getLimitUsed},calculate:function(){if(this.fetch(),0!=this.memberList.length){var t;t=this.isLimitUsed?k.calculateRecur(this.memberList,this.total,this.limit):k.calculateRecur(this.memberList,this.total,Number.MAX_SAFE_INTEGER);var e="";e="OVERFLOW. LIMIT_IS_NOT_VALID"===t?"리미트가 너무 낮아서 계산이 불가능 합니다. \n리미트를 사용하지 않거나 한도를 늘려주세요":t.plus>=0?"학년 플러스 "+t.plus+"\n남는 잔액은 "+t.balance+"입니다.":"학년 마이너스 "+-1*t.plus+"\n남는 잔액은 "+t.balance+"입니다.";for(var i=0;i<this.memberList.length;i++)1===this.memberList[i].grade&&(e+="\n앗! 1학년도 포함되어 있네요. 1학년도 돈을 내나요?");alert(e)}else alert("어느 학년도 등록되지 않았습니다.")}}},A=S,B=(i("59ec"),Object(m["a"])(A,N,P,!1,null,null,null));B.options.__file="HCFooter.vue";var R=B.exports,F={name:"app",components:{HCHeader:d,HCDefaultInput:_,HCInput:$,HCList:T,HCFooter:R}},G=F,D=(i("034f"),Object(m["a"])(G,a,s,!1,null,null,null));D.options.__file="App.vue";var V=D.exports,J=i("2f62");n["a"].use(J["a"]);var W=new J["a"].Store({state:{memberList:[],total:0,limit:1e4,isLimitUsed:!0},getters:{getMemberList:function(t){return t.memberList},getTotal:function(t){return t.total},getLimit:function(t){return t.limit},getLimitUsed:function(t){return t.isLimitUsed}},mutations:{addMember:function(t,e){t.memberList.push(e)},changeTotal:function(t,e){t.total=e},changeLimit:function(t,e){t.limit=e},changeLimitUsed:function(t){t.isLimitUsed=!t.isLimitUsed},removeMember:function(t,e){t.memberList.splice(e,1)}}});n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(V)},store:W}).$mount("#app")},"59ec":function(t,e,i){"use strict";var n=i("03c4"),r=i.n(n);r.a},"5b85":function(t,e,i){},"6c10":function(t,e,i){"use strict";var n=i("d022"),r=i.n(n);r.a},"7bcf":function(t,e,i){},"8aa0":function(t,e,i){"use strict";var n=i("24a3"),r=i.n(n);r.a},d022:function(t,e,i){},e51a:function(t,e,i){"use strict";var n=i("5b85"),r=i.n(n);r.a}});
//# sourceMappingURL=app.cd9a470d.js.map