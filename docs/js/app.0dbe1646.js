(function(t){function e(e){for(var i,o,s=e[0],l=e[1],c=e[2],f=0,m=[];f<s.length;f++)o=s[f],a[o]&&m.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/HosannaCalculator/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("1356"),a=n.n(i);a.a},"03c4":function(t,e,n){},1356:function(t,e,n){},"24a3":function(t,e,n){},"34cb":function(t,e,n){"use strict";var i=n("5909"),a=n.n(i);a.a},4474:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),a=n("bb71");n("da64");i["a"].use(a["a"],{iconfont:"md"});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",[n("HCHeader"),n("v-content",[n("HCDefaultInput"),n("v-divider"),n("HCList"),n("HCInput"),n("v-divider"),n("HCFooter")],1)],1)],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{color:"blue darken-2",app:"",fixed:""}},[n("v-icon",{attrs:{dark:""}},[t._v("payment")]),n("v-toolbar-title",{staticClass:"ml-0 pl-3"},[n("span",{staticStyle:{color:"white"}},[t._v("Hosanna 'Plus' Calculator")])])],1)},l=[],c={},u=c,f=(n("34cb"),n("2877")),m=n("6544"),d=n.n(m),v=n("132d"),h=n("71d9"),p=n("2a7f"),b=Object(f["a"])(u,s,l,!1,null,"36ef98e4",null);b.options.__file="HCHeader.vue";var g=b.exports;d()(b,{VIcon:v["a"],VToolbar:h["a"],VToolbarTitle:p["a"]});var _=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticClass:"ma-2 pa-2"},[n("v-flex",{staticClass:"mx-1"},[n("v-text-field",{attrs:{"hide-details":"",label:"금액",outline:"",type:"number"},model:{value:t.total,callback:function(e){t.total=t._n(e)},expression:"total"}})],1),n("v-flex",{staticClass:"mx-1"},[n("v-text-field",{attrs:{"hide-details":"","append-icon":t.isLimitUsed?"check_box":"check_box_outline_blank",label:"리미트",outline:"",type:"number"},on:{"click:append":t.toggleLimitUsed},model:{value:t.limit,callback:function(e){t.limit=t._n(e)},expression:"limit"}})],1)],1)},L=[],x={data:function(){return{total:0,limit:1e4,isLimitUsed:!0}},created:function(){this.total=this.$store.getters.getTotal,this.limit=this.$store.getters.getLimit,this.isLimitUsed=this.$store.getters.getLimitUsed},watch:{total:function(){this.$store.commit("changeTotal",this.total)},limit:function(){this.$store.commit("changeLimit",this.limit)},isLimitUsed:function(){this.$store.commit("changeLimitUsed")}},methods:{toggleLimitUsed:function(){this.isLimitUsed=!this.isLimitUsed}}},y=x,M=(n("f1d6"),n("0e8f")),U=n("a722"),C=n("2677"),O=Object(f["a"])(y,_,L,!1,null,"0803417d",null);O.options.__file="HCDefaultInput.vue";var T=O.exports;d()(O,{VFlex:M["a"],VLayout:U["a"],VTextField:C["a"]});var k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-fab-transition",[n("v-btn",{attrs:{color:"blue darken-3",dark:"",fab:"",right:"",bottom:"",fixed:""},on:{click:t.addMember}},[n("v-icon",[t._v("add")])],1)],1)],1)},E=[];function V(t,e){this.grade=t,this.count=e}var $={data:function(){return{}},methods:{addMember:function(){var t=new V(0,0);this.$store.commit("addMember",t)}}},I=$,H=(n("e51a"),n("8336")),w=n("0789"),j=Object(f["a"])(I,k,E,!1,null,null,null);j.options.__file="HCInput.vue";var S=j.exports;d()(j,{VBtn:H["a"],VFabTransition:w["a"],VIcon:v["a"]});var F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"align-center":"","justify-center":"",row:"",fluid:""}},[n("ul",t._l(this.$store.state.memberList,function(e,i){return n("li",{key:i,staticClass:"shadow"},[n("v-layout",{staticClass:"ma-0 pa-0",attrs:{xs5:""}},[n("v-flex",{staticClass:"mx-1"},[n("v-text-field",{attrs:{height:"24px","hide-details":"",label:"학년",outline:"",type:"number"},model:{value:e.grade,callback:function(n){t.$set(e,"grade",t._n(n))},expression:"member.grade"}})],1),n("v-flex",{staticClass:"mx-1",attrs:{xs5:""}},[n("v-text-field",{attrs:{"hide-details":"",label:"명",outline:"",type:"number"},model:{value:e.count,callback:function(n){t.$set(e,"count",t._n(n))},expression:"member.count"}})],1),n("v-flex",{staticStyle:{"text-align":"center"},attrs:{"align-self-center":"",xs1:""}},[n("v-icon",{attrs:{"x-large":"",color:"green darken-2"},on:{click:function(e){t.removeMember(i)}}},[t._v("\n            delete\n          ")])],1)],1)],1)}),0)])},N=[],P={data:function(){return{}},created:function(){},methods:{removeMember:function(t){this.$store.commit("removeMember",t)}}},R=P,A=(n("8aa0"),n("a523")),G=Object(f["a"])(R,F,N,!1,null,null,null);G.options.__file="HCList.vue";var B=G.exports;d()(G,{VContainer:A["a"],VFlex:M["a"],VIcon:v["a"],VLayout:U["a"],VTextField:C["a"]});var D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{attrs:{color:"success"},on:{click:t.calculate}},[t._v("계산")])],1)},J=[],W=(n("c5f6"),n("87f3"),n("ac6a"),n("55dd"),n("9278"),{sort:function(t){t.sort(this.compare)},getNumOfPerson:function(t){var e=0;return t.forEach(function(t){e+=t.count}),e},getMaxGrade:function(t){var e=Number.MIN_SAFE_INTEGER;return t.forEach(function(t){e=Math.max(e,t.grade)}),e},getMinGrade:function(t){var e=Number.MAX_SAFE_INTEGER;return t.forEach(function(t){e=Math.min(e,t.grade)}),e},compare:function(t,e){return t.grade<e.grade?-1:t.grade>e.grade?1:0}}),X={payUnit:1e3,calculateRecur:function(t,e,n){W.sort(t);var i=this.getSubTotal(t,n),a=W.getNumOfPerson(t),r=a*this.payUnit,o=e-i;if(o>0){if(!this.validateLimit(t,o,n))return"OVERFLOW. LIMIT_IS_NOT_VALID";var s=o%r,l=(o-s)/r;if(0!=s&&(s=r-s,l+=1),(l+W.getMaxGrade(t))*this.payUnit<=n)return{plus:l,balance:s};var c=this.reBasePlusMember(t,n,l);return e-=c,this.calculateRecur(t,e,n)}if(0==o)return{plus:0,balance:0};o=Math.abs(o);var u=o%r,f=(o-u)/r;if((W.getMinGrade(t)-f)*this.payUnit>=0)return{plus:-1*f,balance:u};var m=this.reBaseMinusMember(t,f);return e-=m,this.calculateRecur(t,e,n)},getSubTotal:function(t,e){var n=this,i=0;return t.forEach(function(t){t.grade*n.payUnit<=e?i+=t.grade*t.count*n.payUnit:i+=e*t.count}),i},reBasePlusMember:function(t,e,n){var i,a=0,r=0;for(i=t.length-1;i>=0;i--){if((t[i].grade+n)*this.payUnit<e)break;r+=t[i].count}return t.splice(i+1,t.length-(i+1)),a=r*e,a},reBaseMinusMember:function(t,e){var n,i=0;for(n=0;n<t.length;n++){if(t[n].grade-e>=0)break;i+=t[n].grade*t[n].count*this.payUnit}return t.splice(0,n),i},validateLimit:function(t,e,n){var i=this,a=0;return t.forEach(function(t){a+=(n-i.payUnit*t.grade)*t.count}),a>=e}},q={data:function(){return{memberList:[],total:0,limit:0,isLimitUsed:!0}},methods:{fetch:function(){this.memberList=this.$store.getters.getMemberList.slice(0),this.total=this.$store.getters.getTotal,this.limit=this.$store.getters.getLimit,this.isLimitUsed=this.$store.getters.getLimitUsed},calculate:function(){if(this.fetch(),0!=this.memberList.length){var t;t=this.isLimitUsed?X.calculateRecur(this.memberList,this.total,this.limit):X.calculateRecur(this.memberList,this.total,Number.MAX_SAFE_INTEGER);var e="";e="OVERFLOW. LIMIT_IS_NOT_VALID"===t?"리미트가 너무 낮아서 계산이 불가능 합니다. \n리미트를 사용하지 않거나 한도를 늘려주세요":t.plus>=0?"학년 플러스 "+t.plus+"\n남는 잔액은 "+t.balance+"입니다.":"학년 마이너스 "+-1*t.plus+"\n남는 잔액은 "+t.balance+"입니다.";for(var n=0;n<this.memberList.length;n++)1===this.memberList[n].grade&&(e+="\n앗! 1학년도 포함되어 있네요. 1학년도 돈을 내나요?");alert(e)}else alert("어느 학년도 등록되지 않았습니다.")}}},z=q,K=(n("59ec"),Object(f["a"])(z,D,J,!1,null,null,null));K.options.__file="HCFooter.vue";var Q=K.exports;d()(K,{VBtn:H["a"]});var Y={name:"app",components:{HCHeader:g,HCDefaultInput:T,HCInput:S,HCList:B,HCFooter:Q}},Z=Y,tt=(n("034f"),n("7496")),et=n("549c"),nt=n("ce7e"),it=Object(f["a"])(Z,r,o,!1,null,null,null);it.options.__file="App.vue";var at=it.exports;d()(it,{VApp:tt["a"],VContent:et["a"],VDivider:nt["a"]});var rt=n("2f62");i["a"].use(rt["a"]);var ot=new rt["a"].Store({state:{memberList:[],total:0,limit:1e4,isLimitUsed:!0},getters:{getMemberList:function(t){return t.memberList},getTotal:function(t){return t.total},getLimit:function(t){return t.limit},getLimitUsed:function(t){return t.isLimitUsed}},mutations:{addMember:function(t,e){t.memberList.push(e)},changeTotal:function(t,e){t.total=e},changeLimit:function(t,e){t.limit=e},changeLimitUsed:function(t){t.isLimitUsed=!t.isLimitUsed},removeMember:function(t,e){t.memberList.splice(e,1)}}});i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(at)},store:ot}).$mount("#app")},5909:function(t,e,n){},"59ec":function(t,e,n){"use strict";var i=n("03c4"),a=n.n(i);a.a},"5b85":function(t,e,n){},"8aa0":function(t,e,n){"use strict";var i=n("24a3"),a=n.n(i);a.a},e51a:function(t,e,n){"use strict";var i=n("5b85"),a=n.n(i);a.a},f1d6:function(t,e,n){"use strict";var i=n("4474"),a=n.n(i);a.a}});
//# sourceMappingURL=app.0dbe1646.js.map