(function(t){function e(e){for(var n,s,o=e[0],l=e[1],c=e[2],f=0,m=[];f<o.length;f++)s=o[f],a[s]&&m.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/HosannaCalculator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("1356"),a=i.n(n);a.a},"03c4":function(t,e,i){},1356:function(t,e,i){},"24a3":function(t,e,i){},"34cb":function(t,e,i){"use strict";var n=i("5909"),a=i.n(n);a.a},4474:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),a=i("bb71");i("da64");n["a"].use(a["a"],{iconfont:"md"});var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("v-app",[i("HCHeader"),i("v-content",[i("HCDefaultInput"),i("v-divider"),i("HCList"),i("v-divider"),i("HCFooter")],1)],1)],1)},s=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar",{attrs:{color:"blue darken-2",app:"",fixed:""}},[i("v-icon",{attrs:{dark:""}},[t._v("payment")]),i("v-toolbar-title",{staticClass:"ml-0 pl-3"},[i("span",{staticStyle:{color:"white"}},[t._v("Hosanna 'Plus' Calculator")])])],1)},l=[],c={},u=c,f=(i("34cb"),i("2877")),m=i("6544"),d=i.n(m),h=i("132d"),v=i("71d9"),p=i("2a7f"),b=Object(f["a"])(u,o,l,!1,null,"36ef98e4",null);b.options.__file="HCHeader.vue";var g=b.exports;d()(b,{VIcon:h["a"],VToolbar:v["a"],VToolbarTitle:p["a"]});var L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-layout",{staticClass:"ma-2 pa-2"},[i("v-flex",{staticClass:"mx-1"},[i("v-text-field",{attrs:{"hide-details":"",label:"금액",outline:"",type:"number"},model:{value:t.total,callback:function(e){t.total=t._n(e)},expression:"total"}})],1),i("v-flex",{staticClass:"mx-1"},[i("v-text-field",{attrs:{"hide-details":"","append-icon":t.isLimitUsed?"check_box":"check_box_outline_blank",label:"리미트",outline:"",type:"number"},on:{"click:append":t.toggleLimitUsed},model:{value:t.limit,callback:function(e){t.limit=t._n(e)},expression:"limit"}})],1)],1)},_=[],x={data:function(){return{total:0,limit:1e4,isLimitUsed:!0}},created:function(){this.total=this.$store.getters.getTotal,this.limit=this.$store.getters.getLimit,this.isLimitUsed=this.$store.getters.getLimitUsed},watch:{total:function(){this.$store.commit("changeTotal",this.total)},limit:function(){this.$store.commit("changeLimit",this.limit)},isLimitUsed:function(){this.$store.commit("changeLimitUsed")}},methods:{toggleLimitUsed:function(){this.isLimitUsed=!this.isLimitUsed}}},y=x,M=(i("f1d6"),i("0e8f")),U=i("a722"),C=i("2677"),T=Object(f["a"])(y,L,_,!1,null,"0803417d",null);T.options.__file="HCDefaultInput.vue";var k=T.exports;d()(T,{VFlex:M["a"],VLayout:U["a"],VTextField:C["a"]});var O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{"align-center":"","justify-center":"",row:"",fluid:""}},[i("ul",t._l(this.$store.state.memberList,function(e,n){return i("li",{key:n,staticClass:"shadow"},[i("v-layout",{staticClass:"ma-0 pa-0",attrs:{xs5:""}},[i("v-flex",{staticClass:"mx-1"},[i("v-text-field",{attrs:{height:"24px","hide-details":"",label:"학년",outline:"",type:"number"},model:{value:e.grade,callback:function(i){t.$set(e,"grade",t._n(i))},expression:"member.grade"}})],1),i("v-flex",{staticClass:"mx-1",attrs:{xs5:""}},[i("v-text-field",{attrs:{"hide-details":"",label:"명",outline:"",type:"number"},model:{value:e.count,callback:function(i){t.$set(e,"count",t._n(i))},expression:"member.count"}})],1),i("v-flex",{staticStyle:{"text-align":"center"},attrs:{"align-self-center":"",xs1:""}},[i("v-icon",{attrs:{"x-large":"",color:"green darken-2"},on:{click:function(e){t.removeMember(n)}}},[t._v("\n            delete\n          ")])],1)],1)],1)}),0),i("v-fab-transition",[i("v-btn",{attrs:{color:"blue darken-3",dark:"",fab:"",right:"",absolute:""},on:{click:t.addMember}},[i("v-icon",[t._v("add")])],1)],1)],1)},E=[];function V(t,e){this.grade=t,this.count=e}var $={data:function(){return{}},created:function(){},methods:{addMember:function(){var t=new V(0,0);this.$store.commit("addMember",t)},removeMember:function(t){this.$store.commit("removeMember",t)}}},H=$,I=(i("8aa0"),i("8336")),w=i("a523"),S=i("0789"),j=Object(f["a"])(H,O,E,!1,null,null,null);j.options.__file="HCList.vue";var F=j.exports;d()(j,{VBtn:I["a"],VContainer:w["a"],VFabTransition:S["a"],VFlex:M["a"],VIcon:h["a"],VLayout:U["a"],VTextField:C["a"]});var N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-btn",{attrs:{color:"success"},on:{click:t.calculate}},[t._v("계산")])],1)},P=[],R=(i("c5f6"),i("87f3"),i("ac6a"),i("55dd"),i("9278"),{sort:function(t){t.sort(this.compare)},getNumOfPerson:function(t){var e=0;return t.forEach(function(t){e+=t.count}),e},getMaxGrade:function(t){var e=Number.MIN_SAFE_INTEGER;return t.forEach(function(t){e=Math.max(e,t.grade)}),e},getMinGrade:function(t){var e=Number.MAX_SAFE_INTEGER;return t.forEach(function(t){e=Math.min(e,t.grade)}),e},compare:function(t,e){return t.grade<e.grade?-1:t.grade>e.grade?1:0}}),A={payUnit:1e3,calculateRecur:function(t,e,i){R.sort(t);var n=this.getSubTotal(t,i),a=R.getNumOfPerson(t),r=a*this.payUnit,s=e-n;if(s>0){if(!this.validateLimit(t,s,i))return"OVERFLOW. LIMIT_IS_NOT_VALID";var o=s%r,l=(s-o)/r;if(0!=o&&(o=r-o,l+=1),(l+R.getMaxGrade(t))*this.payUnit<=i)return{plus:l,balance:o};var c=this.reBasePlusMember(t,i,l);return e-=c,this.calculateRecur(t,e,i)}if(0==s)return{plus:0,balance:0};s=Math.abs(s);var u=s%r,f=(s-u)/r;if((R.getMinGrade(t)-f)*this.payUnit>=0)return{plus:-1*f,balance:u};var m=this.reBaseMinusMember(t,f);return e-=m,this.calculateRecur(t,e,i)},getSubTotal:function(t,e){var i=this,n=0;return t.forEach(function(t){t.grade*i.payUnit<=e?n+=t.grade*t.count*i.payUnit:n+=e*t.count}),n},reBasePlusMember:function(t,e,i){var n,a=0,r=0;for(n=t.length-1;n>=0;n--){if((t[n].grade+i)*this.payUnit<e)break;r+=t[n].count}return t.splice(n+1,t.length-(n+1)),a=r*e,a},reBaseMinusMember:function(t,e){var i,n=0;for(i=0;i<t.length;i++){if(t[i].grade-e>=0)break;n+=t[i].grade*t[i].count*this.payUnit}return t.splice(0,i),n},validateLimit:function(t,e,i){var n=this,a=0;return t.forEach(function(t){a+=(i-n.payUnit*t.grade)*t.count}),a>=e}},G={data:function(){return{memberList:[],total:0,limit:0,isLimitUsed:!0}},methods:{fetch:function(){this.memberList=this.$store.getters.getMemberList.slice(0),this.total=this.$store.getters.getTotal,this.limit=this.$store.getters.getLimit,this.isLimitUsed=this.$store.getters.getLimitUsed},calculate:function(){if(this.fetch(),0!=this.memberList.length){var t;t=this.isLimitUsed?A.calculateRecur(this.memberList,this.total,this.limit):A.calculateRecur(this.memberList,this.total,Number.MAX_SAFE_INTEGER);var e="";e="OVERFLOW. LIMIT_IS_NOT_VALID"===t?"리미트가 너무 낮아서 계산이 불가능 합니다. \n리미트를 사용하지 않거나 한도를 늘려주세요":t.plus>=0?"학년 플러스 "+t.plus+"\n남는 잔액은 "+t.balance+"입니다.":"학년 마이너스 "+-1*t.plus+"\n남는 잔액은 "+t.balance+"입니다.";for(var i=0;i<this.memberList.length;i++)1===this.memberList[i].grade&&(e+="\n앗! 1학년도 포함되어 있네요. 1학년도 돈을 내나요?");alert(e)}else alert("어느 학년도 등록되지 않았습니다.")}}},B=G,D=(i("59ec"),Object(f["a"])(B,N,P,!1,null,null,null));D.options.__file="HCFooter.vue";var J=D.exports;d()(D,{VBtn:I["a"]});var W={name:"app",components:{HCHeader:g,HCDefaultInput:k,HCList:F,HCFooter:J}},X=W,q=(i("034f"),i("7496")),z=i("549c"),K=i("ce7e"),Q=Object(f["a"])(X,r,s,!1,null,null,null);Q.options.__file="App.vue";var Y=Q.exports;d()(Q,{VApp:q["a"],VContent:z["a"],VDivider:K["a"]});var Z=i("2f62");n["a"].use(Z["a"]);var tt=new Z["a"].Store({state:{memberList:[],total:0,limit:1e4,isLimitUsed:!0},getters:{getMemberList:function(t){return t.memberList},getTotal:function(t){return t.total},getLimit:function(t){return t.limit},getLimitUsed:function(t){return t.isLimitUsed}},mutations:{addMember:function(t,e){t.memberList.push(e)},changeTotal:function(t,e){t.total=e},changeLimit:function(t,e){t.limit=e},changeLimitUsed:function(t){t.isLimitUsed=!t.isLimitUsed},removeMember:function(t,e){t.memberList.splice(e,1)}}});n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(Y)},store:tt}).$mount("#app")},5909:function(t,e,i){},"59ec":function(t,e,i){"use strict";var n=i("03c4"),a=i.n(n);a.a},"8aa0":function(t,e,i){"use strict";var n=i("24a3"),a=i.n(n);a.a},f1d6:function(t,e,i){"use strict";var n=i("4474"),a=i.n(n);a.a}});
//# sourceMappingURL=app.8e27ad52.js.map